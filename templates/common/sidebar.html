<div class="sidebar">
    <div class="ulsidebar-nav">
        {% if session.get('teacher_id') %}
        <!-- Teacher Sidebar -->
        <div class="a" id="aContainer">
            <a href="{{ url_for('teacher_profile') }}" class="attendance-sheet">My Profile</a>
            <!-- <img class="sidebar-img" alt="My Profile" src="{{ url_for('static', filename='uploads/my profile.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <!-- <img class="sidebar-img" alt="Dashboard" src="{{ url_for('static', filename='uploads/dashboard.png') }}?v=1"> -->
            <a href="{{ url_for('teacher_dashboard') }}" class="attendance-sheet">Dashboard</a>
        </div>

        <div class="a">
            <a href="{{ url_for('my_courses') }}" class="attendance-sheet">My courses</a>
            <!-- <img class="sidebar-img" alt="My Courses" src="{{ url_for('static', filename='uploads/my courses.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('add_course') }}" class="attendance-sheet">Add Course</a>
            <!-- <img class="sidebar-img" alt="Add Course" src="{{ url_for('static', filename='uploads/addcourse.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('view_student_applications')}}" class="view-students">View applications</a>
            <!-- <img class="sidebar-img" alt="View Applications" src="{{ url_for('static', filename='uploads/view.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('edit_teacher_profile') }}" class="edit-profile">Update Profile</a>
            <!-- <img class="sidebar-img" alt="Update Profile" src="{{ url_for('static', filename='uploads/update profile.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('generate_student_report') }}" class="edit-profile">View Report</a>
            <!-- <img class="sidebar-img" alt="View Report" src="{{ url_for('static', filename='uploads/update profile.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('view_requests') }}" class="edit-profile">View Requests</a>
            <!-- <img class="sidebar-img" alt="View Requests" src="{{ url_for('static', filename='uploads/view_requests.jpg') }}?v=1"> -->
        </div>

        <div class="a4">
            <a href="{{ url_for('logout') }}" class="attendance-sheet">Logout</a>
            <!-- <img class="sidebar-img" alt="Logout" src="{{ url_for('static', filename='uploads/logout.png') }}?v=1"> -->
        </div>

        {% elif session.get('student_id') %}
        <!-- Student Sidebar -->
        <div class="a">
            <!-- <img class="sidebar-img" alt="My Profile" src="{{ url_for('static', filename='uploads/my profile.jpg') }}?v=1"> -->
            <a href="{{ url_for('student_profile') }}" class="attendance-sheet">My Profile</a>
        </div>

        <div class="a">
            <a href="{{ url_for('view_enrolled_courses') }}" class="attendance-sheet">My Courses</a>
            <!-- <img class="sidebar-img" alt="My Courses" src="{{ url_for('static', filename='uploads/my courses.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('student_courses') }}" class="edit-profile">Available Courses</a>
            <!-- <img class="sidebar-img" alt="Available Courses" src="{{ url_for('static', filename='uploads/available courses.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('apply_absence') }}" class="attendance-sheet">Absence Reason</a>
            <!-- <img class="sidebar-img" alt="Absence Reason" src="{{ url_for('static', filename='uploads/absencereason.png') }}?v=1"> -->
        </div>

        <div class="a3">
            <a href="{{ url_for('view_application_status') }}" class="attendance-sheet">Application Status</a>
            <!-- <img class="sidebar-img" alt="Application Status" src="{{ url_for('static', filename='uploads/view.jpg') }}?v=1"> -->
        </div>

        <div class="a">
            <a href="{{ url_for('student_edit_profile') }}" class="edit-profile">Update Profile</a>
            <!-- <img class="sidebar-img" alt="Update Profile" src="{{ url_for('static', filename='uploads/update profile.jpg') }}?v=1"> -->
        </div>

        <div class="a4">
            <a href="{{ url_for('logout') }}" class="attendance-sheet">Logout</a>
            <!-- <img class="sidebar-img" alt="Logout" src="{{ url_for('static', filename='uploads/logout.png') }}?v=1"> -->
        </div>

        {% endif %}
    </div>
</div>

<!-- Add your script to highlight the active link and smooth transitions -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sidebar = document.getElementById('sidebar');
        const toggleSidebarButton = document.getElementById('toggleSidebar');

        // Toggle sidebar visibility
        toggleSidebarButton.addEventListener('click', function() {
            sidebar.classList.toggle('hide-sidebar');
        });

        // Touch event for closing the sidebar on swipe
        let startX;
        let isSwiping = false;

        sidebar.addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            isSwiping = true;
        });

        sidebar.addEventListener('touchmove', function(e) {
            if (isSwiping) {
                let moveX = e.touches[0].clientX;
                if (startX - moveX > 50) { // Swipe left to close the sidebar
                    sidebar.classList.add('hide-sidebar');
                    isSwiping = false;
                }
            }
        });

        sidebar.addEventListener('touchend', function() {
            isSwiping = false;
        });
    });
</script>


<style>
    body {
        margin: 0;
        line-height: normal;
        background-color: #F6F9FF;
        font-family: 'Open Sans', sans-serif;
    }

    .attendance-sheet, .add-course, .view-students, .edit-profile {
        position: absolute;
        top: 10.75px;
        left: 41px;
        line-height: 22.5px;
        font-weight: 600;
        text-decoration: none;
    }

    .sidebar-img {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 24px;
        height: 24px;
        object-fit: cover; /* Prevents images from distorting */
        transition: transform 0.3s ease-in-out; /* Smooth transition effect */
    }

    .a, .a1, .a3, .a4 {
        width: 260px;
        position: relative;
        border-radius: 4px;
        background-color: #fff;
        height: 44px;
        margin-bottom: 8px;
        overflow: hidden;
        transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
    }

    .a1 {
        background-color: #f6f9ff;
        color: #4154f1;
        font-weight: bold;
    }

    .ulsidebar-nav {
        position: absolute;
        top: 20px;
        left: 20px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        overflow-y: auto;
    }
    .sidebar {
    position: fixed; /* Ensure the sidebar is fixed on the page */
    top: 61px;
    left: 0;
    box-shadow: 0px 0px 20px rgba(1, 41, 112, 0.1);
    background-color: #fff;
    width: 300px;
    height: 100vh;
    overflow-y: auto;
    z-index: 1050; /* Ensure sidebar is in front of other content */
    transition: transform 0.3s ease-in-out;


}
.hide-sidebar {
    transform: translateX(-100%); /* Move the sidebar out of view */
}


.sidebar img {
        object-fit: contain;
    }

    .a1 {
    background-color: #f6f9ff;
    color: #4154f1;
    font-weight: bold;
}

    .a:hover, .a1:hover {
        transform: scale(1.05); /* Smooth scaling effect on hover */
    }
</style>
